% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_step1_grn_preprocess.R
\name{tf_corr_footprints}
\alias{tf_corr_footprints}
\title{Parallel driver to correlate TF footprints with expression (manifest-aware)}
\usage{
tf_corr_footprints(
  fp_manifest,
  out_dir,
  build_args,
  motif_ids = NULL,
  n_workers = max(1L, parallel::detectCores(TRUE)),
  set_plan = TRUE,
  skip_existing = TRUE,
  cor_method = "pearson",
  min_non_na = 5L,
  verbose = TRUE
)
}
\arguments{
\item{fp_manifest}{data.frame/tibble with columns: motif, score, bound, annot
(paths to per-motif CSVs or inputs needed by `process_one_motif_corr`)}

\item{out_dir}{output directory for new results}

\item{build_args}{list forwarded to `process_one_motif_corr()`}

\item{motif_ids}{optional character vector to subset motifs}

\item{n_workers}{integer number of workers (default: detectCores)}

\item{set_plan}{logical; if TRUE set a future plan inside the function}

\item{skip_existing}{logical; if TRUE, skip recomputation when outputs exist}

\item{cor_method}{character; correlation method, e.g. "pearson"}

\item{min_non_na}{integer; minimum non-NA pairs for correlation}

\item{verbose}{logical; emit progress messages}
}
\value{
tibble with columns including motif, n_rows, score, bound, annot
}
\description{
Runs motif-by-motif correlation and returns a manifest. When `skip_existing=TRUE`
and existing result CSVs are detected for a motif, this function now *backfills*
the `n_rows` column by counting rows from the existing `score` CSV so you don't
end up with `NA` in the output manifest.
}

% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_plot_tf_network_delta.R
\name{plot_tf_network_delta}
\alias{plot_tf_network_delta}
\title{Plot an interactive Δ-network for all TF–peak–gene links
(single-panel Δ = stress − control) with crowd-control options.}
\usage{
plot_tf_network_delta(
  data,
  plot_title,
  out_html = NULL,
  layout_algo = c("fr", "kk", "lgl", "dh", "graphopt", "circle", "grid", "sphere",
    "star", "random"),
  add_direct = TRUE,
  edge_filter_min = 0,
  min_delta_abs = 0,
  keep_top_edges_per_tf = NULL,
  peak_mode = c("show_all", "shared_only", "hide"),
  show_peaks = TRUE,
  gene_fc_thresh = 1.5,
  de_reference = c("str_over_ctrl", "ctrl_over_str"),
  motif_db = c("jaspar2024", "hocomocov13"),
  physics = FALSE,
  width = "100\%",
  height = "800px",
  seed = 1L,
  verbose = TRUE,
  score_ctrl_col = NULL,
  score_str_col = NULL,
  sign_ctrl_col = NULL,
  sign_str_col = NULL,
  tf_expr_ctrl_col = NULL,
  tf_expr_str_col = NULL,
  gene_expr_ctrl_col = NULL,
  gene_expr_str_col = NULL
)
}
\arguments{
\item{data}{Tibble/data.frame or path to CSV/TSV with per-row TF–peak–gene entry.
Must contain at least: TF/tf, gene_key/gene, peak_id/peak, and two per-condition
link scores (e.g., \code{link_score_*}). Signs/expressions are optional.}

\item{out_html}{Optional path to write HTML; if `NULL` returns the htmlwidget.}

\item{layout_algo}{One of: "fr","kk","lgl","dh","graphopt","circle","grid","sphere","star","random".}

\item{add_direct}{Logical; also draw faint direct TF→gene Δ edges in addition to TF→PEAK→gene.}

\item{edge_filter_min}{Keep edges with \code{|score_ctrl|} or \code{|score_str|} ≥ this value (magnitude-only).}

\item{min_delta_abs}{Keep edges with \code{|Δ|} ≥ this value (Δ = str − ctrl).}

\item{keep_top_edges_per_tf}{Optional integer; per TF keep only the strongest \code{|Δ|} edges.}

\item{peak_mode}{One of: "show_all" (default), "shared_only" (hide unique-peak triangles),
"hide" (draw TF→gene only; collapses multiple peaks to strongest Δ per TF–gene).}

\item{show_peaks}{Convenience boolean to show peak triangles (\code{TRUE}, default) or hide them
entirely (\code{FALSE}). If set to \code{FALSE}, this overrides \code{peak_mode} to "hide".}

\item{gene_fc_thresh}{Threshold for node border up/down coloring (reference set by `de_reference`).}

\item{de_reference}{"str_over_ctrl" (default) or "ctrl_over_str" for log2FC border coloring.}

\item{motif_db}{"jaspar2024" (default) or "hocomocov13" to recognize TF symbols.}

\item{physics}{Logical; if `TRUE`, enables a repulsive physics preset to relieve crowding.}

\item{width, height}{Dimensions passed to \code{visNetwork}.}

\item{seed}{Integer seed for reproducible igraph layouts (ignored when \code{physics=TRUE} and nodes are moved).}

\item{verbose}{Logical; print progress messages.}

\item{score_ctrl_col, score_str_col}{Optional explicit column names of per-condition link scores.}

\item{sign_ctrl_col, sign_str_col}{Optional explicit column names of per-condition link signs ("+"|"-"|0 or numeric).}

\item{tf_expr_ctrl_col, tf_expr_str_col, gene_expr_ctrl_col, gene_expr_str_col}{Optional
expression columns (used for node tooltips, TF label sizing, and border coloring).}
}
\value{
A \code{visNetwork} htmlwidget (or, invisibly, \code{out_html} path if saved).
}
\description{
The plot draws TFs (boxes), genes (dots), and optional peaks (triangles).
Edge color encodes Δ magnitude/sign (red = gain/activation; blue = loss/repression);
**arrow head styles** encode sign: **arrow** for activation (+), **blunt bar** for repression (−).
}

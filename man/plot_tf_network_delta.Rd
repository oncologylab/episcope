% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_plot_tf_network_delta.R
\name{plot_tf_network_delta}
\alias{plot_tf_network_delta}
\title{Plot an interactive -network for all TFpeakgene links
(single-panel  = case ?control) with crowd-control options.}
\usage{
plot_tf_network_delta(
  data,
  plot_title,
  out_html = NULL,
  html_title = NULL,
  layout_algo = c("fr", "kk", "lgl", "dh", "graphopt", "circle", "grid", "sphere",
    "star", "random"),
  add_direct = TRUE,
  edge_filter_min = 0,
  min_delta_abs = 0,
  keep_top_edges_per_tf = NULL,
  peak_mode = c("show_all", "shared_only", "hide"),
  show_peaks = TRUE,
  gene_fc_thresh = 1.5,
  col_node_up = "#dfb734",
  col_node_down = "#283673",
  col_node_neutral = "#555555",
  font_color = "#FFFFFF",
  edge_width_min = 2,
  edge_width_max = 8,
  size_by = c("log2fc", "expr_max"),
  label_inside = TRUE,
  label_max_chars = 18,
  de_reference = c("str_over_ctrl", "ctrl_over_str"),
  motif_db = c("jaspar2024", "hocomocov13"),
  physics = FALSE,
  width = "100\%",
  height = "800px",
  seed = 1L,
  verbose = TRUE,
  score_ctrl_col = NULL,
  score_str_col = NULL,
  sign_ctrl_col = NULL,
  sign_str_col = NULL,
  tf_expr_ctrl_col = NULL,
  tf_expr_str_col = NULL,
  gene_expr_ctrl_col = NULL,
  gene_expr_str_col = NULL,
  log2fc_tf_col = "log2FC_tf_expr",
  log2fc_gene_col = "log2FC_gene_expr"
)
}
\arguments{
\item{data}{Tibble/data.frame or path to CSV/TSV with per-row TFpeakgene entry.
Must contain at least: TF/tf, gene_key/gene, peak_id/peak, and two per-condition
link scores (e.g., \code{link_score_*}). Signs/expressions are optional.}

\item{plot_title}{Title string shown above the network.}

\item{out_html}{Optional path to write HTML; if `NULL` returns the htmlwidget.}

\item{layout_algo}{One of: "fr","kk","lgl","dh","graphopt","circle","grid","sphere","star","random".}

\item{add_direct}{Logical; also draw faint direct TFgene  edges in addition to TFPEAKgene.}

\item{edge_filter_min}{Keep edges with \code{|score_ctrl|} or \code{|score_str|} ?this value.}

\item{min_delta_abs}{Keep edges with \code{||} ?this value ( = case ?ctrl).}

\item{keep_top_edges_per_tf}{Optional integer; per TF keep only the strongest \code{||} edges.}

\item{peak_mode}{One of: "show_all" (default), "shared_only", "hide".}

\item{show_peaks}{Convenience boolean; if FALSE, forces \code{peak_mode = "hide"}.}

\item{gene_fc_thresh}{Threshold on |log2FC| used to call nodes up/down vs neutral.}

\item{col_node_up}{Fill color for up-regulated nodes (TFs/genes).}

\item{col_node_down}{Fill color for down-regulated nodes.}

\item{col_node_neutral}{Fill color for neutral nodes.}

\item{font_color}{Base label color (all nodes).}

\item{edge_width_min, edge_width_max}{Minimum and maximum edge thickness for ||.}

\item{de_reference}{"str_over_ctrl" (default) or "ctrl_over_str" for log2FC sign.}

\item{motif_db}{"jaspar2024" (default) or "hocomocov13" to recognize TF symbols.}

\item{physics}{Logical; if `TRUE`, enables a repulsive physics preset to relieve crowding.}

\item{width, height}{Dimensions passed to \code{visNetwork}.}

\item{seed}{Integer seed for reproducible igraph layouts.}

\item{verbose}{Logical; print progress messages.}

\item{score_ctrl_col, score_str_col}{Optional explicit column names of per-condition link scores.}

\item{sign_ctrl_col, sign_str_col}{Optional explicit column names of per-condition link signs.}

\item{tf_expr_ctrl_col, tf_expr_str_col, gene_expr_ctrl_col, gene_expr_str_col}{Optional expression columns.}

\item{log2fc_tf_col, log2fc_gene_col}{Precomputed log2FC columns used for node direction/color and TF tooltip.
Defaults are `log2FC_tf_expr` and `log2FC_gene_expr`. This function will not recompute these values.}
}
\value{
A \code{visNetwork} htmlwidget (or, invisibly, \code{out_html} path if saved).
}
\description{
The plot draws TFs (rounded boxes), genes (circles), and optional peaks (triangles).
Edge color encodes  magnitude/sign (red = gain/activation; blue = loss/repression);
arrow head styles encode sign: arrow for activation (+), blunt bar for repression (?.
Node fill color encodes expression direction (up / down / neutral).
}
